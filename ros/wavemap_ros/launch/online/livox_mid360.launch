<launch>
  <!-- Wavemap params -->
  <arg name="param_file"
       default="$(find wavemap_ros)/config/livox_mid360.yaml"
       doc="Name of the file from which to read wavemap's server params."/>

  <!-- Run the LiDAR driver -->
  <arg name="xfer_format" default="1"/>
  <include file="$(find livox_ros_driver2)/launch_ROS1/msg_MID360.launch"
           pass_all_args="true"/>
  <node pkg="tf"
        type="static_transform_publisher"
        name="link_odom_camera_init"
        args="0.0 0.0 0.0 0.0 0.0 0.0 1.000
            odom camera_init 100"/>
  <node pkg="tf"
        type="static_transform_publisher"
        name="link_body_livox_frame"
        args="0.0 0.0 0.0 0.0 0.0 0.0 1.000
            body livox_frame 100"/>

  <!-- Run odometry -->
  <rosparam command="load"
            file="$(find wavemap_ros)/config/other_packages/fast_lio_livox_mid360.yaml"/>
  <param name="feature_extract_enable" type="bool" value="0"/>
  <param name="point_filter_num" type="int" value="3"/>
  <param name="max_iteration" type="int" value="3"/>
  <param name="filter_size_surf" type="double" value="0.5"/>
  <param name="filter_size_map" type="double" value="0.5"/>
  <param name="cube_side_length" type="double" value="1000"/>
  <param name="runtime_pos_log_enable" type="bool" value="0"/>
  <node pkg="fast_lio" type="fastlio_mapping" name="laserMapping"
        output="screen"/>

  <!-- Run wavemap -->
  <include file="$(find wavemap_ros)/launch/wavemap_server.launch"
           pass_all_args="true"/>
</launch>
